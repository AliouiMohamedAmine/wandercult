<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="icon" type="image/png" href="assets/images/logo.png">
    <link rel="stylesheet" href="homeStyle.css" />
    <script src="card.js" defer></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <title>Home</title>
  </head>
  <body>
    <div class="wrapper">
      <header>
        <img src="assets/images/logo.png" alt="logo" class="logo" />
        <img src="assets/images/logoText.png" alt="logoText" class="logotext" />
        <img
          src="assets/images/search.png"
          id="myButton"
          alt="search"
          class="icon icon-searcher"
          onclick="filterCities()"
        />
        <input
          type="text"
          id="searchInput"
          placeholder="Search places"
          class="search"
        />
        <% if (profileImagePath) { %>
          <img src="<%= profileImagePath %>" id="profile-button" alt="avatar" class="avatar" onclick="window.location.href='/profile';" >
          <% } else { %>
            <img src="assets/images/firefly.jpg" id="profile-button" alt="avatar" class="avatar" onclick="window.location.href='/profile';" />
            <% }%>
      </header>
      <container>
        <div class="left">
          <ul>
            <span class="first">
              <img
                src="assets/images/home.png"
                alt="home"
                class="icon home-icon"
              />
              <li><a href="/home">Home</a></li>
            </span>
            <span>
              <img
                src="assets/images/old-phone_11552945.png"
                alt="advice"
                class="icon discover-icon"
              />
              <li><a href="/help">Numbers & advise</a></li>
            </span>
            <span>
              <img
                src="assets/images/error-sign_76789.png"
                alt="friends"
                class="icon friends-icon"
              />
              <li><a href="/report">Report</a></li>
            </span>
            <span>
              <img
                src="assets/images/saved.png"
                alt="saved"
                class="icon saved-icon"
              />
              <li><a href="/saved">Saved</a></li>
            </span>
          </ul>
          <div class="line1"></div>
          <ul class="ul2">
            <span>
              <img
                src="assets/images/settings.png"
                alt="settings"
                class="icon settings-icon"
              />
              <li><a href="/settings">settings</a></li>
            </span>
            <span>
              <img
                src="assets/images/logout.png"
                alt="logout"
                class="icon logout-icon"
              />
              <li><a href="/logout">Logout</a></li>
            </span>
          </ul>
          <div class="info">
            <a href="usage_condition.html" target="_blank"
              >Terms and services</a
            >
            <a href="securityTerms.html" target="_blank"> Privacy Policy</a>
          </div>
        </div>
        <div class="right">
          <div class="top">
            <div class="banner" id="banner">
              <div class="bannerText">
                <img
                  src="assets/images/left-arrow.png"
                  alt="left-arrow"
                  class="left-arrow"
                  onclick="changePhrase('prev')"
                />
                <img
                  src="assets/images/right-arrow.png"
                  alt="right-arrow"
                  class="right-arrow"
                  onclick="changePhrase('next')"
                />
                <h2 id="bannerPhrase">Discover the helm of Morocco</h2>
                <p>Start to discover our country with us</p>
                <div class="circle circle1 active"></div>
                <div class="circle circle2"></div>
                <div class="circle circle3"></div>
                <div class="circle circle4"></div>
                <div class="circle circle5"></div>
                <div class="circle circle6"></div>
              </div>
            </div>
          </div>
          
          <div id="bottom"></div>
        </div>
      </container>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
          const darkModeToggle = document.getElementById('darkModeToggle');
          const body = document.body;

      
          // Check if dark mode is already enabled
          if (localStorage.getItem('darkMode') === 'enabled') {
              body.classList.add('dark-mode');
          }
      
          darkModeToggle.addEventListener('click', function() {
              body.classList.toggle('dark-mode');
              if (body.classList.contains('dark-mode')) {
                  localStorage.setItem('darkMode', 'enabled');
              } else {
                  localStorage.setItem('darkMode', 'disabled');
              }
          });
      });
      </script>
      
    <script>
      const phrases = [
  "Discover the helm of Morocco", 
  "Explore the beauty of Moroccan Sahara",
  "Traverse the rolling Rif Hills", 
  "Discover the majestic Atlas Mountains",
  "Immerse in the tranquil Moroccan oases", 
  "Wander the serene Moroccan coastline"
];

const images = [
  "assets/images/morocco-helm.jpg", 
  "assets/images/sahara.jpg", 
  "assets/images/rif-hills.jpg", 
  "assets/images/atlas-mountains.jpg", 
  "assets/images/oases.jpg", 
  "assets/images/coastline.jpg"
];

let currentPhraseIndex = 0;
let isTransitioning = false;
let autoChangeInterval;

function changePhrase(direction) {
  if (isTransitioning) return;
  isTransitioning = true;

  const bannerPhrase = document.getElementById("bannerPhrase");
  const banner = document.getElementById("banner");

  bannerPhrase.classList.add("fade-out");

  setTimeout(() => {
    if (direction === "next") {
      currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;
    } else if (direction === "prev") {
      currentPhraseIndex = (currentPhraseIndex - 1 + phrases.length) % phrases.length;
    }

    bannerPhrase.textContent = phrases[currentPhraseIndex];

    // Update the background image
    banner.style.backgroundImage = `url(${images[currentPhraseIndex]})`;

    updateActiveCircle();

    bannerPhrase.classList.remove("fade-out");
    bannerPhrase.classList.add("fade-in");

    setTimeout(() => {
      bannerPhrase.classList.remove("fade-in");
      isTransitioning = false;
    }, 500);
  }, 500);
}

function updateActiveCircle() {
  const circles = document.querySelectorAll(".circle");
  circles.forEach((circle, index) => {
    if (index === currentPhraseIndex) {
      circle.classList.add("active");
    } else {
      circle.classList.remove("active");
    }
  });
}

function startAutoChange() {
  autoChangeInterval = setInterval(() => {
    changePhrase('next');
  }, 3000);
}

function stopAutoChange() {
  clearInterval(autoChangeInterval);
}

window.onload = () => {
  startAutoChange();
  document.getElementById("banner").style.backgroundImage = `url(${images[0]})`;
};

document.querySelectorAll('.left-arrow, .right-arrow').forEach(button => {
  button.addEventListener('click', () => {
    stopAutoChange();
    startAutoChange();
  });
});


    </script>
  </body>
</html>
